<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Enriches the `lambda` crate with `http` types targeting AWS ALB, API Gateway REST and HTTP API lambda integrations."><meta name="keywords" content="rust, rustlang, rust-lang, lambda_http"><title>lambda_http - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-93196c7a1c3542a8.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../static.files/light-4743e13df3dfe8c4.css"><link rel="stylesheet" disabled href="../static.files/dark-0e1b889528bd466b.css"><link rel="stylesheet" disabled href="../static.files/ayu-65289d5d067c7c66.css"><script id="default-settings" ></script><script src="../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-3367e395607fafc1.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../lambda_http/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../lambda_http/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate lambda_http</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.7.3</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press â€˜Sâ€™ to search, â€˜?â€™ for more optionsâ€¦" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">lambda_http</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/lambda_http/lib.rs.html#1-246">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Enriches the <code>lambda</code> crate with <a href="https://github.com/hyperium/http"><code>http</code></a>
types targeting AWS <a href="https://docs.aws.amazon.com/elasticloadbalancing/latest/application/introduction.html">ALB</a>, <a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/welcome.html">API Gateway</a> REST and HTTP API lambda integrations.</p>
<p>This crate abstracts over all of these trigger events using standard <a href="https://github.com/hyperium/http"><code>http</code></a> types minimizing the mental overhead
of understanding the nuances and variation between trigger details allowing you to focus more on your application while also giving you to the maximum flexibility to
transparently use whichever lambda trigger suits your application and cost optimizations best.</p>
<h2 id="examples"><a href="#examples">Examples</a></h2><h3 id="hello-world"><a href="#hello-world">Hello World</a></h3>
<p>The following example is how you would structure your Lambda such that you have a <code>main</code> function where you explicitly invoke
<code>lambda_http::run</code> in combination with the <a href="fn.service_fn.html"><code>service_fn</code></a> function. This pattern allows you to utilize global initialization
of tools such as loggers, to use on warm invokes to the same Lambda function after the first request, helping to reduce the latency of
your functionâ€™s execution path.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>lambda_http::{service_fn, Error};

<span class="attr">#[tokio::main]
</span><span class="kw">async fn </span>main() -&gt; <span class="prelude-ty">Result</span>&lt;(), Error&gt; {
    <span class="comment">// initialize dependencies once here for the lifetime of your
    // lambda task
    </span>lambda_http::run(service_fn(|request| <span class="kw">async </span>{
        <span class="prelude-ty">Result</span>::&lt;<span class="kw-2">&amp;</span>str, std::convert::Infallible&gt;::Ok(<span class="string">&quot;ðŸ‘‹ world!&quot;</span>)
    })).<span class="kw">await</span><span class="question-mark">?</span>;
    <span class="prelude-val">Ok</span>(())
}</code></pre></div>
<h3 id="leveraging-trigger-provided-data"><a href="#leveraging-trigger-provided-data">Leveraging trigger provided data</a></h3>
<p>You can also access information provided directly from the underlying trigger events, like query string parameters,
or Lambda function context, with the <a href="trait.RequestExt.html"><code>RequestExt</code></a> trait.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>lambda_http::{service_fn, Error, IntoResponse, Request, RequestExt};

<span class="attr">#[tokio::main]
</span><span class="kw">async fn </span>main() -&gt; <span class="prelude-ty">Result</span>&lt;(), Error&gt; {
    lambda_http::run(service_fn(hello)).<span class="kw">await</span><span class="question-mark">?</span>;
    <span class="prelude-val">Ok</span>(())
}

<span class="kw">async fn </span>hello(
    request: Request
) -&gt; <span class="prelude-ty">Result</span>&lt;<span class="kw">impl </span>IntoResponse, std::convert::Infallible&gt; {
    <span class="kw">let </span>_context = request.lambda_context();

    <span class="prelude-val">Ok</span>(<span class="macro">format!</span>(
        <span class="string">&quot;hello {}&quot;</span>,
        request
            .query_string_parameters()
            .first(<span class="string">&quot;name&quot;</span>)
            .unwrap_or_else(|| <span class="string">&quot;stranger&quot;</span>)
    ))
}</code></pre></div>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2><div class="item-table"><div class="item-row"><div class="item-left import-item" id="reexport.http"><code>pub use <a class="mod" href="https://docs.rs/http/0.2.9/http/index.html" title="mod http">http</a>;</code></div></div><div class="item-row"><div class="item-left import-item" id="reexport.lambda_runtime"><code>pub use lambda_runtime;</code></div></div><div class="item-row"><div class="item-left import-item" id="reexport.tower"><code>pub use lambda_runtime::tower;</code></div></div><div class="item-row"><div class="item-left import-item" id="reexport.RequestExt"><code>pub use crate::ext::<a class="trait" href="ext/trait.RequestExt.html" title="trait lambda_http::ext::RequestExt">RequestExt</a>;</code></div></div><div class="item-row"><div class="item-left import-item" id="reexport.aws_lambda_events"><code>pub use aws_lambda_events;</code></div></div></div><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="ext/index.html" title="lambda_http::ext mod">ext</a></div><div class="item-right docblock-short">Extension methods for <code>http::Request</code> types</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="request/index.html" title="lambda_http::request mod">request</a></div><div class="item-right docblock-short">ALB and API Gateway request adaptations</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Context.html" title="lambda_http::Context struct">Context</a></div><div class="item-right docblock-short">The Lambda function execution context. The values in this struct
are populated using the <a href="https://docs.aws.amazon.com/lambda/latest/dg/current-supported-versions.html">Lambda environment variables</a>
and the headers returned by the poll request to the Runtime APIs.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Response.html" title="lambda_http::Response struct">Response</a></div><div class="item-right docblock-short">Represents an HTTP response</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Body.html" title="lambda_http::Body enum">Body</a></div><div class="item-right docblock-short">Representation of http request and response bodies as supported
by API Gateway and ALBs.</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.IntoResponse.html" title="lambda_http::IntoResponse trait">IntoResponse</a></div><div class="item-right docblock-short">Trait for generating responses</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Service.html" title="lambda_http::Service trait">Service</a></div><div class="item-right docblock-short">An asynchronous function from a <code>Request</code> to a <code>Response</code>.</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.run.html" title="lambda_http::run fn">run</a></div><div class="item-right docblock-short">Starts the Lambda Rust runtime and begins polling for events on the <a href="https://docs.aws.amazon.com/lambda/latest/dg/runtimes-api.html">Lambda
Runtime APIs</a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.service_fn.html" title="lambda_http::service_fn fn">service_fn</a></div><div class="item-right docblock-short">Returns a new [<code>ServiceFn</code>] with the given closure.</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.Error.html" title="lambda_http::Error type">Error</a></div><div class="item-right docblock-short">Error type that lambdas may result in</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.Request.html" title="lambda_http::Request type">Request</a></div><div class="item-right docblock-short">Type alias for <code>http::Request</code>s with a fixed <a href="enum.Body.html"><code>Body</code></a> type</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="lambda_http" data-themes="" data-resource-suffix="" data-rustdoc-version="1.68.0 (2c8cc3432 2023-03-06)" data-search-js="search-98d53477a794af0b.js" data-settings-js="settings-c3c521c753752a1a.js" data-settings-css="settings-08ddfdda51b8ee2e.css" ></div></body></html>